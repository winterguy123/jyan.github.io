<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Upskilling in Cybersecurity - Project Charter (Modern)</title>
  <style>
    :root {
      --bg: #0b0f14;
      --card: #0f1621;
      --muted: #7e8a9a;
      --text: #e8eef6;
      --brand: #5eead4; /* teal */
      --brand-2: #60a5fa; /* blue */
      --accent: #f59e0b; /* amber */
      --success: #22c55e; /* green */
      --danger: #ef4444; /* red */
      --info: #06b6d4; /* cyan */
      --shadow: 0 10px 30px rgba(0,0,0,.45), 0 2px 10px rgba(0,0,0,.35);
      --radius-xl: 20px;
      --radius-lg: 14px;
      --radius-md: 12px;
      --radius-sm: 10px;
      --ring: 0 0 0 2px rgba(94,234,212,.25);
    }

    /* Light theme */
    .light {
      --bg: #f4f6fb;
      --card: #ffffff;
      --muted: #5b6472;
      --text: #0e1726;
      --brand: #0ea5e9;
      --brand-2: #6366f1;
      --accent: #d97706;
      --success: #16a34a;
      --danger: #dc2626;
      --info: #0891b2;
      --shadow: 0 12px 30px rgba(2,6,23,.08), 0 4px 12px rgba(2,6,23,.06);
      --ring: 0 0 0 2px rgba(14,165,233,.15);
    }

    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 80% -10%, rgba(96,165,250,.15), transparent 60%),
                  radial-gradient(1200px 800px at 0% 110%, rgba(94,234,212,.18), transparent 60%),
                  var(--bg);
      line-height: 1.6;
    }

    /* Top bar */
    .topbar {
      position: sticky; top: 0; z-index: 30;
      backdrop-filter: saturate(140%) blur(8px);
      background: linear-gradient(90deg, rgba(15,22,33,.75), rgba(15,22,33,.55));
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .topbar .inner { max-width: 1180px; margin: 0 auto; display: flex; align-items: center; gap: 14px; padding: 14px 18px; }
    .logo {
      display: flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: .2px;
    }
    .logo .badge { width: 34px; height: 34px; border-radius: 10px; display: grid; place-items: center; color: #0b1220;
      background: conic-gradient(from 210deg, var(--brand), var(--brand-2)); box-shadow: var(--shadow);
    }
    .top-actions { margin-left: auto; display: flex; gap: 8px; align-items: center; }
    .btn { appearance: none; border: 0; cursor: pointer; padding: 9px 12px; border-radius: 12px; font-weight: 600; color: var(--text); background: rgba(255,255,255,.06); box-shadow: inset 0 -1px 0 rgba(255,255,255,.05); transition: .2s ease; }
    .btn:hover { transform: translateY(-1px); background: rgba(255,255,255,.1); }
    .btn:focus-visible { outline: none; box-shadow: var(--ring); }

    /* Layout */
    .wrap { max-width: 1180px; margin: 22px auto; display: grid; grid-template-columns: 270px 1fr; gap: 22px; padding: 0 18px 40px; }

    /* Sidebar */
    .side {
      position: sticky; top: 74px; align-self: start; background: var(--card); border-radius: var(--radius-xl); box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.06);
    }
    .toc-head { padding: 16px 16px 8px; font-size: 13px; text-transform: uppercase; color: var(--muted); letter-spacing: .12em; }
    .toc { list-style: none; margin: 0; padding: 0 10px 12px; }
    .toc li { margin: 2px 0; }
    .toc a { display: block; padding: 10px 12px; border-radius: 10px; color: var(--text); text-decoration: none; font-size: 14px; }
    .toc a:hover, .toc a.active { background: linear-gradient(90deg, rgba(94,234,212,.12), rgba(96,165,250,.12)); }

    /* Card / container */
    .container { background: var(--card); border-radius: var(--radius-xl); box-shadow: var(--shadow); border: 1px solid rgba(255,255,255,.06); overflow: clip; }

    /* Header hero */
    .header { position: relative; padding: 48px 32px; background:
      radial-gradient(800px 260px at 70% -10%, rgba(96,165,250,.35), transparent 60%),
      radial-gradient(900px 300px at -10% 120%, rgba(94,234,212,.35), transparent 60%),
      linear-gradient(135deg, rgba(2,6,23,.6), rgba(2,6,23,.3));
    }
    .header h1 { margin: 0 0 8px; font-size: clamp(26px, 3.2vw, 40px); letter-spacing: .2px; }
    .header p { margin: 0; color: var(--muted); }

    /* Content */
    .content { padding: 24px 26px 36px; }

    /* Collapsible sections */
    details.section { border-radius: var(--radius-lg); margin: 14px 0 18px; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); border: 1px solid rgba(255,255,255,.06); }
    details[open].section { box-shadow: var(--shadow); }
    summary.section-header { list-style: none; cursor: pointer; display: flex; align-items: center; gap: 12px; padding: 16px 18px; position: relative; }
    summary.section-header::-webkit-details-marker { display: none; }

    .chev { inline-size: 18px; block-size: 18px; display: inline-grid; place-items: center; border-radius: 6px; background: rgba(255,255,255,.06); }
    details[open] .chev { transform: rotate(90deg); }

    .section-title { margin: 0; font-size: 18px; color: var(--text); }
    .section-content { padding: 0 18px 18px; }

    /* Pre-existing styles adapted to modern palette */
    .student-info { background: rgba(94,234,212,.12); border-left: 5px solid var(--brand); border-radius: 12px; padding: 16px; margin-bottom: 18px; }
    .student-info h3 { margin: 0 0 10px; color: var(--text); }
    .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
    .info-item { display: grid; gap: 6px; }
    .info-label { font-weight: 700; font-size: 12px; text-transform: uppercase; letter-spacing: .06em; color: var(--muted); }
    .info-value { background: rgba(255,255,255,.04); padding: 10px 12px; border-radius: 10px; border: 1px dashed rgba(255,255,255,.12); }

    .instructions { background: rgba(96,165,250,.12); border: 1px solid rgba(96,165,250,.25); color: var(--text); border-radius: 12px; padding: 12px 14px; font-size: 14px; }
    .instructions strong { display: block; margin-bottom: 6px; color: var(--brand-2); }

    .placeholder { background: rgba(245,158,11,.12); border: 1px dashed rgba(245,158,11,.45); color: #fcd34d; border-radius: 12px; padding: 14px; }

    .completed-work { background: rgba(34,197,94,.12); border: 1px solid rgba(34,197,94,.35); border-radius: 12px; padding: 12px; }
    .completed-header { color: #86efac; font-weight: 700; }

    .scope-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; margin-top: 14px; }
    .scope-card { background: rgba(255,255,255,.04); border-radius: 12px; padding: 14px; border-left: 4px solid transparent; }
    .scope-card h4 { margin: 0 0 8px; }
    .scope-card.in-scope { border-left-color: var(--success); }
    .scope-card.roadmap { border-left-color: var(--info); }
    .scope-card.out-scope { border-left-color: var(--danger); }

    table.stakeholder-table { width: 100%; border-collapse: collapse; overflow: hidden; border-radius: 12px; }
    .stakeholder-table thead th { background: linear-gradient(90deg, rgba(94,234,212,.2), rgba(96,165,250,.2)); color: var(--text); padding: 10px; text-align: left; font-size: 13px; }
    .stakeholder-table td { padding: 10px; border-bottom: 1px solid rgba(255,255,255,.08); font-size: 13px; color: var(--text); }
    .stakeholder-table tr:hover td { background: rgba(255,255,255,.03); }

    .power-interest-grid { margin: 16px 0; text-align: center; }
    .grid-placeholder { background: rgba(148,163,184,.15); border: 2px dashed rgba(148,163,184,.5); border-radius: 12px; padding: 26px 16px; color: #cbd5e1; font-style: italic; }

    /* Utilities */
    .stack { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
    .sr { position: absolute; width: 1px; height: 1px; overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; }

    /* Footer bar actions */
    .page-actions { position: sticky; bottom: 18px; z-index: 20; display: flex; justify-content: center; }
    .action-bar { display: flex; gap: 8px; background: rgba(15,22,33,.7); border: 1px solid rgba(255,255,255,.08); padding: 10px; border-radius: 14px; box-shadow: var(--shadow); backdrop-filter: blur(6px); }

    /* Responsive */
    @media (max-width: 960px) {
      .wrap { grid-template-columns: 1fr; }
      .side { position: relative; top: 0; }
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="inner">
      <div class="logo" aria-label="Upskilling in Cybersecurity">
        <div class="badge">üîí</div>
        <div>Upskilling in Cybersecurity</div>
      </div>
      <div class="top-actions">
        <button class="btn" id="expandAll" title="Expand all sections">Expand all</button>
        <button class="btn" id="collapseAll" title="Collapse all sections">Collapse all</button>
        <button class="btn" id="themeToggle" title="Toggle theme">Toggle theme</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <!-- Sidebar TOC -->
    <aside class="side" aria-label="On this page">
      <div class="toc-head">On this page</div>
      <ul class="toc" id="toc"></ul>
    </aside>

    <!-- Main card -->
    <main class="container" id="main">
      <header class="header">
        <h1>Upskilling in cybersecurity</h1>
        <p>Project Charter - Managing IT Projects Course</p>
      </header>

      <div class="content">
        <!-- Student Information (kept identical) -->
        <section class="student-info" id="student-info">
          <h3>Student Information</h3>
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label">Student Name:</div>
              <div class="info-value">Jeremy Yan</div>
            </div>
            <div class="info-item">
              <div class="info-label">Course:</div>
              <div class="info-value">Managing IT Projects</div>
            </div>
            <div class="info-item">
              <div class="info-label">Semester:</div>
              <div class="info-value">Fall 2025</div>
            </div>
          </div>
        </section>

        <!-- Begin collapsible sections. Content kept exactly as provided. -->
        <details class="section" id="sec-1" open>
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üìã 1. Project Title & Description</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Instructions:</strong>
              Replace the placeholder below with your specific project information. Include a clear project name and 2-3 sentences describing what you will deliver.
            </div>
            <div class="placeholder">
              <h3>Project Title: Upskilling into cybersecurity</h3>
              <p>This project aims at getting me the relevant skills and knowledge of the cybersecurity field of IT. This project aims to improve my knowledge base and help my chances of entering this field.</p>
            </div>
          </div>
        </details>

        <details class="section" id="sec-2">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üéØ 2. Vision, Mission & Strategy Alignment</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Instructions:</strong>
              Explain how this project aligns with your personal mission, vision, and strategic goals. Reference your previous mission/vision/strategy work.
            </div>
            <div class="placeholder">
              <h4>Personal Mission Connection:</h4>
              <p>This project supports my personal mission because I know that cybersecurity is a field that I'm interested in entering. There will always be demand for cybersecurity professionals. </p>

              <h4>Vision Alignment:</h4>
              <p>I can see myself with a career in cybersecurity. I've always wanted to work for the government, following my father and his side of the family because they worked in the city government. </p>

              <h4>Strategic Goal Support:</h4>
              <p>This  project will help me in achieving my goal of entering the cybersecurity field. This field is also a good path into entering the government sector, a strategic goal of mine.</p>
            </div>
          </div>
        </details>

        <details class="section" id="sec-3">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üíº 3. Business Case & Justification</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Instructions:</strong>
              Describe how this project will add value to you either professionally or personally. What benefits will you gain?
            </div>
            <div class="placeholder">
              <h4>Professional Value:</h4>
              <p>There are several benefits to this project. I will gain skills that are sought after in the cybersecurity field, improve my network, and improve my job prosp;ects.</p>

              <h4>Personal Value:</h4>
              <p>I think the main personal value that I gain from this project is the improvements to my knowledge base. This will help me excel in my job duties and improve my confidence in the workplace. </p>

              <h4>Learning Outcomes:</h4>
              <p>I will hopefully learn more about the field as a whole, expectations and qualities that would help one in the field. This knowledge could be really helpful in creating a career path for myself.</p>
            </div>
          </div>
        </details>

        <details class="section" id="sec-4">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üìè 4. High-Level Scope</h2></summary>
          <div class="section-content">
            <div class="completed-work">
              <div class="completed-header">‚úÖ Use Your Previous Scope Assignment</div>
              <p>Copy and paste your scope document content from your previous assignment into the placeholders below.</p>
            </div>

            <div class="scope-grid">
              <div class="scope-card in-scope">
                <h4>‚úÖ In Scope for Semester Project</h4>
                <div class="placeholder">
                  <p>[Paste your "In Scope" items from your scope assignment here]</p>
                  <ul>
                    <li>Identification of common jobs in this industry.</li>
                    <li>Understanding some key skills required to excel in the industry. </li>
                    <li>Research of common certifications liked by industry hiring managers and ranking them. </li>
                    <li>Identifying the job market for this industry and conducting predictive analytics.</li>
                    <li>Examine white hat hacking/penetration testing, a flip side to the cybersecurity industry.</li>
                  </ul>
                </div>
              </div>

              <div class="scope-card roadmap">
                <h4>üó∫Ô∏è Roadmap Items (‚â§6 Months)</h4>
                <div class="placeholder">
                  <p>[Paste your "Roadmap Items" from your scope assignment here]</p>
                  <ul>
                    <li>Acquisition of an entry level cybersecurity certification</li>
                    <li>gaining more work experience</li>
                    <li>networking with cybersecurity professionals</li>
                    <li>attending cybersecurity events and webinars</li>
                  </ul>
                </div>
              </div>

              <div class="scope-card out-scope">
                <h4>‚ùå Out of Scope</h4>
                <div class="placeholder">
                  <p>[Paste your "Out of Scope" items from your scope assignment here]</p>
                  <ul>
                    <li>Getting a cybersecurity job</li>
                    <li>getting an expert level cybersecurity certification</li>
                    <li>taking a cybersecurity consultant role</li>
                    <li>taking a hacker/penetration tester type job</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </details>

        <details class="section" id="sec-5">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üë• 5. Stakeholder Register</h2></summary>
          <div class="section-content">
            <div class="completed-work">
              <div class="completed-header">‚úÖ Use Your Previous Stakeholder Assignment</div>
              <p>Copy and paste your stakeholder information from your previous assignment. Include both the table and your power-interest grid.</p>
            </div>

            <table class="stakeholder-table">
              <thead>
                <tr>
                  <th>Stakeholder</th>
                  <th>Category</th>
                  <th>Role/Interest</th>
                  <th>Power</th>
                  <th>Interest</th>
                  <th>Engagement Strategy</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                <tr>
                  <td colspan="6" class="instructions">
                    <strong>Add more rows as needed for all your stakeholders (8-12 total)</strong>
                    You can copy this table row structure and paste it multiple times, then fill in each stakeholder's information.
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="power-interest-grid">
              <h4>Power-Interest Grid Visualization</h4>
              <div class="grid-placeholder">
                [INSERT YOUR POWER-INTEREST GRID HERE]
                <br /><br />
                You can:
                <br />‚Ä¢ Draw it and insert as an image
                <br />‚Ä¢ Create it in PowerPoint/Google Slides and screenshot it
                <br />‚Ä¢ Ask ChatGPT to help you create an HTML version
                <br />‚Ä¢ Use any tool that shows your stakeholders positioned in the four quadrants
              </div>
            </div>
          </div>
        </details>

        <details class="section" id="sec-6">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üìù Additional Charter Components</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Note for Future Updates:</strong>
              This charter will be expanded throughout the semester as we cover additional project management components including:
              <ul>
                <li>Project Methodology Selection</li>
                <li>Deliverables & Definition of Done</li>
                <li>High-Level Timeline & Milestones</li>
                <li>Execution Plan Overview</li>
                <li>Risk Register</li>
                <li>Acceptance Criteria</li>
                <li>Project Manager Authority & Approvals</li>
              </ul>
              Keep this HTML file - you'll be adding to it as the semester progresses!
            </div>
          </div>
        </details>

        <!-- Section 6 in original file (kept as provided) -->
        <details class="section" id="sec-7">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üéØ 6. Deliverables, Time Estimates & Definition of done</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Instructions:</strong>
              Explain this project's deliverables, time estimates, and definition of done.
            </div>
            <div class="placeholder">
              <h4>Deliverable 1:</h4>
              <p>Cybersecurity specialized resume. Duration: 5 days. Definition of done: A peer approved cybersecurity focused resume. </p>

              <h4>Deliverable 2:</h4>
              <p>List of cybersecurity certifications. Duration: 5 hours. Definition of done: A ranked list of cybersecurity certifications, the first being the one I'll acquire </p>

              <h4>Deliverable 3:</h4>
              <p>Acquisition of a cybersecurity certification. Duration: 6 days. Definition of done: Pass the exam, become certified for that specific certification.</p>

              <h4>Deliverable 4:</h4>
              <p>Getting hired for a cybersecurity job. Duration: 1 day. Definition of done: Getting hired for a cybersecurity focused job.</p>

              <h4>Deliverable 5:</h4>
              <p>Reworking the network. Duration: 12 days. Duration of done: Folks in the network are aware of my interest in the field and my relevant skills.</p>
            </div>
          </div>
        </details>

        <!-- Section 7: Budget -->
        <details class="section" id="sec-8">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üí∞ 7. Budget Estimation</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Instructions:</strong>
              Estimate the costs associated with this project. Include things like certifications, events, tools, or training materials.
            </div>
            <div class="placeholder">
              <table class="stakeholder-table">
                <thead>
                  <tr>
                    <th>Item</th>
                    <th>Estimated Cost</th>
                    <th>Notes</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Labor and equipment costs</td>
                    <td>$9350</td>
                    <td>Exam and preparation materials</td>
                  </tr>
                  <tr>
                    <td>Online cybersecurity course materials, certification fees, etc</td>
                    <td>$1000</td>
                    <td>All material costs to acquire a cybersecurity certification</td>
                  </tr>
                  <tr>
                    <td>Contingency reserve</td>
                    <td>$2270</td>
                    <td>For unforseen/unexpected events</td>
                  </tr>
                  <tr>
                    <td><strong>Total Estimated Budget</strong></td>
                    <td><strong>$13620</strong></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

        <!-- Section 8: Methodology (typos preserved) -->
        <details class="section" id="sec-9">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title">üéØ 8. Project Methodology/h2></h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Instructions:</strong>
              Explain this project's project methodology and project methodology diagram.
            </div>
            <div class="placeholder">
              <h4>Project Methodology explanation:</h4>
              <p>My requirements fit the hybrid structure. I have a relatively clear plan on how I want to do the project but leeway would help me. I will be doing milestones, so checkpoints throughout the semester. 
                Predictive will not work; I might find a different approach that I want to do so that doesn't meet my goals. Incremental hybrid works, I plan for this method best. Iteration hybrid doesn't really work, 
                as I don't forsee the need to submit iterations. Agile gives too much leeway, and I don't anticipate there being a lot of feedback for pivots. Therefore, I choose Hybrid Incremental as my approach.  </p>

              <h4>Project Methodology Diagram:</h4>
              <img src="Images/Project method diagram.png" alt="Project Methodology Diagram">
            </div>
          </div>
        </details>

        <!-- Section 9: Project tool (typos preserved) -->
        <details class="section" id="sec-10">
          <summary class="section-header"><span class="chev">‚ñ∂</span><h2 class="section-title"> 9. Project tool/h2></h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>Instructions:</strong>
              Explain your selected project tool and associated screenshots.
            </div>
            <div class="placeholder">
              <h4>Project tool explanation:</h4>
              <p>My project will use the Hybrid-Incremental approach. My deliverables are able to be submitted independently of one another, allowing for this approach. With this approach in mind, I will test Microsoft Project, Jira, and Monday.com to see which one fits me. 
                After testing the three applications, I went with Monday.com. This software is free, and allows me to list out the tasks and subtasks in a way that allows for easy visualization.I‚Äôm able to set due dates and timelines, allowing me to stay on track throughout the duration of this project. 
                I‚Äôve also used Monday.com in the past, and the familiarity is a boon for this project. </p>

              <h4>Project Tool Screenshot:</h4>
              <img src="Images/Projectplandiagram.jpg" alt="Project Tool Diagram">
            </div>
          </div>
        </details>

      </div>
    </main>
  </div>

  <!-- Floating action bar -->
  <div class="page-actions">
    <div class="action-bar">
      <a class="btn" href="#main" title="Back to top">Back to top</a>
      <button class="btn" id="printBtn" title="Print or save as PDF">Print</button>
    </div>
  </div>

  <script>
    // Theme toggle (dark/light)
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('light');
      localStorage.setItem('theme', document.documentElement.classList.contains('light') ? 'light' : 'dark');
    });
    // Restore theme
    (function(){
      const saved = localStorage.getItem('theme');
      if(saved === 'light') document.documentElement.classList.add('light');
    })();

    // Expand/Collapse all controls
    const allDetails = () => Array.from(document.querySelectorAll('details.section'));
    document.getElementById('expandAll').addEventListener('click', () => allDetails().forEach(d => d.open = true));
    document.getElementById('collapseAll').addEventListener('click', () => allDetails().forEach(d => d.open = false));

    // Print
    document.getElementById('printBtn').addEventListener('click', () => window.print());

    // Generate Table of Contents
    const toc = document.getElementById('toc');
    const headings = Array.from(document.querySelectorAll('details.section .section-title'));
    headings.forEach((h, i) => {
      const parentDetails = h.closest('details.section');
      const id = parentDetails.id || `sec-${i+1}`;
      parentDetails.id = id;
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = `#${id}`;
      a.textContent = h.textContent.trim();
      li.appendChild(a);
      toc.appendChild(li);
    });

    // Active link highlight on scroll
    const links = Array.from(toc.querySelectorAll('a'));
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const idx = headings.findIndex(h => h.closest('details.section').id === entry.target.id);
        if (idx > -1) {
          const link = links[idx];
          if (entry.isIntersecting) link.classList.add('active');
          else link.classList.remove('active');
        }
      });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });

    document.querySelectorAll('details.section').forEach(sec => observer.observe(sec));

    // Make summary clickable area accessible
    document.querySelectorAll('summary.section-header').forEach(sum => {
      sum.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); sum.parentElement.open = !sum.parentElement.open; }
      });
    });
  </script>
</body>
</html>
