<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Upskilling in Cybersecurity - Project Charter (Enhanced)</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    :root {
      --bg: #0a0e1a;
      --card: #0f1419;
      --card-elevated: #151b26;
      --muted: #7c8b9e;
      --text: #e8f0fa;
      --text-secondary: #b8c4d0;
      --brand: #00ff88;
      --brand-2: #3b82f6;
      --accent: #f59e0b;
      --success: #22c55e;
      --danger: #ef4444;
      --info: #06b6d4;
      --warning: #eab308;
      --shadow-sm: 0 2px 8px rgba(0,0,0,.15);
      --shadow: 0 8px 25px rgba(0,0,0,.25), 0 3px 10px rgba(0,0,0,.1);
      --shadow-lg: 0 20px 40px rgba(0,0,0,.4), 0 8px 16px rgba(0,0,0,.2);
      --shadow-glow: 0 0 20px rgba(0,255,136,.15);
      --radius-xl: 20px;
      --radius-lg: 16px;
      --radius-md: 12px;
      --radius-sm: 8px;
      --ring: 0 0 0 3px rgba(0,255,136,.3);
      --border: rgba(255,255,255,.08);
      --border-strong: rgba(255,255,255,.15);
    }

    /* Light theme */
    .light {
      --bg: #f8fafc;
      --card: #ffffff;
      --card-elevated: #f1f5f9;
      --muted: #64748b;
      --text: #0f172a;
      --text-secondary: #334155;
      --brand: #059669;
      --brand-2: #2563eb;
      --accent: #d97706;
      --success: #16a34a;
      --danger: #dc2626;
      --info: #0891b2;
      --warning: #ca8a04;
      --shadow-sm: 0 2px 8px rgba(15,23,42,.08);
      --shadow: 0 10px 25px rgba(15,23,42,.1), 0 4px 12px rgba(15,23,42,.05);
      --shadow-lg: 0 25px 50px rgba(15,23,42,.15), 0 10px 20px rgba(15,23,42,.08);
      --shadow-glow: 0 0 20px rgba(5,150,105,.2);
      --ring: 0 0 0 3px rgba(5,150,105,.2);
      --border: rgba(0,0,0,.08);
      --border-strong: rgba(0,0,0,.15);
    }

    * {
      box-sizing: border-box;
    }

    html, body { 
      height: 100%; 
      margin: 0;
    }
    
    body {
      font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: var(--text);
      background: 
        radial-gradient(1400px 900px at 70% -5%, rgba(59,130,246,.12), transparent 65%),
        radial-gradient(1200px 800px at 10% 110%, rgba(0,255,136,.08), transparent 65%),
        radial-gradient(800px 600px at 90% 50%, rgba(245,158,11,.06), transparent 70%),
        var(--bg);
      background-attachment: fixed;
      line-height: 1.65;
      font-size: 15px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      position: relative;
      overflow-x: hidden;
    }

    /* Animated background particles */
    .bg-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      opacity: 0.3;
    }

    .particle {
      position: absolute;
      background: var(--brand);
      border-radius: 50%;
      animation: float 8s infinite ease-in-out;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
      50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.1); opacity: 1; }
    }

    @keyframes slideInUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes slideInLeft {
      from { transform: translateX(-30px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes glow {
      0%, 100% { box-shadow: var(--shadow), 0 0 20px rgba(0,255,136,0.1); }
      50% { box-shadow: var(--shadow), 0 0 30px rgba(0,255,136,0.3); }
    }

    /* Enhanced topbar */
    .topbar {
      position: sticky; 
      top: 0; 
      z-index: 100;
      backdrop-filter: saturate(180%) blur(16px);
      background: linear-gradient(135deg, 
        rgba(15,20,25,.9), 
        rgba(15,20,25,.8)
      );
      border-bottom: 1px solid var(--border-strong);
      box-shadow: var(--shadow-lg);
      animation: slideInUp 0.6s ease;
    }
    
    .topbar::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--brand), transparent);
      opacity: 0.5;
    }
    
    .topbar .inner { 
      max-width: 1200px; 
      margin: 0 auto; 
      display: flex; 
      align-items: center; 
      gap: 16px; 
      padding: 16px 20px; 
    }
    
    .logo {
      display: flex; 
      align-items: center; 
      gap: 12px; 
      font-weight: 800; 
      font-size: 18px;
      letter-spacing: -0.02em;
      animation: slideInLeft 0.6s ease 0.2s both;
    }
    
    .logo .badge { 
      width: 42px; 
      height: 42px; 
      border-radius: 14px; 
      display: grid; 
      place-items: center; 
      font-size: 20px;
      color: var(--bg);
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); 
      box-shadow: var(--shadow), var(--shadow-glow);
      border: 2px solid rgba(255,255,255,.15);
      animation: glow 3s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }

    .logo .badge::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
      transform: rotate(-45deg);
      animation: shine 2s infinite;
    }

    @keyframes shine {
      0% { transform: rotate(-45deg) translateX(-100%); }
      100% { transform: rotate(-45deg) translateX(100%); }
    }
    
    .top-actions { 
      margin-left: auto; 
      display: flex; 
      gap: 12px; 
      align-items: center; 
      animation: slideInLeft 0.6s ease 0.4s both;
    }
    
    .btn { 
      appearance: none; 
      border: 0; 
      cursor: pointer; 
      padding: 12px 20px; 
      border-radius: var(--radius-md); 
      font-weight: 600; 
      font-size: 14px;
      color: var(--text); 
      background: var(--card-elevated); 
      border: 1px solid var(--border);
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1); 
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }
    
    .btn:hover { 
      transform: translateY(-2px) scale(1.02); 
      background: var(--card); 
      border-color: var(--brand);
      box-shadow: var(--shadow), 0 0 20px rgba(0,255,136,0.2);
    }
    
    .btn:active {
      transform: translateY(0) scale(0.98);
    }
    
    .btn:focus-visible { 
      outline: none; 
      box-shadow: var(--ring); 
    }

    /* Layout improvements */
    .wrap { 
      max-width: 1200px; 
      margin: 24px auto; 
      display: grid; 
      grid-template-columns: 300px 1fr; 
      gap: 32px; 
      padding: 0 20px 80px; 
    }

    /* Enhanced sidebar */
    .side {
      position: sticky; 
      top: 110px; 
      align-self: start; 
      background: var(--card); 
      border-radius: var(--radius-xl); 
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border);
      overflow: hidden;
      animation: slideInLeft 0.8s ease 0.6s both;
      backdrop-filter: blur(10px);
    }

    .side::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(0,255,136,0.02), rgba(59,130,246,0.02));
      pointer-events: none;
    }
    
    .toc-head { 
      padding: 24px 24px 16px; 
      font-size: 12px; 
      font-weight: 800;
      text-transform: uppercase; 
      color: var(--brand); 
      letter-spacing: .1em; 
      background: linear-gradient(135deg, var(--card-elevated), rgba(0,255,136,0.05));
      border-bottom: 1px solid var(--border);
      position: relative;
    }

    .toc-head::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      opacity: 0.3;
    }
    
    .toc { 
      list-style: none; 
      margin: 0; 
      padding: 12px; 
    }
    
    .toc li { 
      margin: 4px 0; 
    }
    
    .toc a { 
      display: block; 
      padding: 14px 20px; 
      border-radius: var(--radius-md); 
      color: var(--text-secondary); 
      text-decoration: none; 
      font-size: 14px; 
      font-weight: 500;
      transition: all .25s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .toc a::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 0;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      transition: width 0.3s ease;
      opacity: 0.1;
    }
    
    .toc a:hover { 
      background: linear-gradient(90deg, rgba(0,255,136,.12), rgba(59,130,246,.08)); 
      color: var(--text);
      transform: translateX(4px);
      box-shadow: var(--shadow-sm);
    }

    .toc a:hover::before {
      width: 4px;
    }
    
    .toc a.active { 
      background: linear-gradient(90deg, rgba(0,255,136,.2), rgba(59,130,246,.15)); 
      color: var(--brand);
      font-weight: 700;
      box-shadow: var(--shadow-sm), 0 0 15px rgba(0,255,136,0.1);
      transform: translateX(4px);
    }

    .toc a.active::before {
      width: 4px;
      opacity: 1;
    }

    /* Main container */
    .container { 
      background: var(--card); 
      border-radius: var(--radius-xl); 
      box-shadow: var(--shadow-lg); 
      border: 1px solid var(--border); 
      overflow: clip; 
      animation: slideInUp 0.8s ease 0.8s both;
      position: relative;
    }

    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(0,255,136,0.01), rgba(59,130,246,0.01));
      pointer-events: none;
    }

    /* Enhanced header */
    .header { 
      position: relative; 
      padding: 80px 40px; 
      background:
        radial-gradient(900px 400px at 60% 0%, rgba(0,255,136,.15), transparent 70%),
        radial-gradient(800px 500px at 0% 100%, rgba(59,130,246,.12), transparent 70%),
        radial-gradient(600px 300px at 100% 50%, rgba(245,158,11,.08), transparent 70%),
        linear-gradient(135deg, rgba(15,20,25,.9), rgba(15,20,25,.6));
      border-bottom: 1px solid var(--border-strong);
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2300ff88' fill-opacity='0.03'%3E%3Ccircle cx='7' cy='7' r='1'/%3E%3Ccircle cx='53' cy='7' r='1'/%3E%3Ccircle cx='7' cy='53' r='1'/%3E%3Ccircle cx='53' cy='53' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
      opacity: 0.4;
    }
    
    .header h1 { 
      margin: 0 0 16px; 
      font-size: clamp(32px, 5vw, 52px); 
      font-weight: 900;
      letter-spacing: -0.03em; 
      background: linear-gradient(135deg, var(--brand) 0%, var(--brand-2) 50%, var(--accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
      text-shadow: 0 0 30px rgba(0,255,136,0.3);
    }
    
    .header p { 
      margin: 0; 
      color: var(--text-secondary); 
      font-size: 20px;
      font-weight: 600;
      opacity: 0.9;
    }

    /* Content spacing */
    .content { 
      padding: 40px 40px 60px; 
    }

    /* Enhanced collapsible sections */
    .section { 
      border-radius: var(--radius-lg); 
      margin: 24px 0 28px; 
      background: var(--card-elevated); 
      border: 1px solid var(--border);
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(0,255,136,0.02), rgba(59,130,246,0.02));
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }
    
    .section[open] { 
      box-shadow: var(--shadow-lg), 0 0 30px rgba(0,255,136,0.1); 
      border-color: var(--brand);
      transform: translateY(-2px);
    }

    .section[open]::before {
      opacity: 1;
    }
    
    .section-header { 
      list-style: none; 
      cursor: pointer; 
      display: flex; 
      align-items: center; 
      gap: 20px; 
      padding: 24px 28px; 
      position: relative;
      transition: all .2s ease;
      user-select: none;
    }
    
    .section-header:hover {
      background: linear-gradient(90deg, rgba(0,255,136,0.05), rgba(59,130,246,0.03));
    }
    
    .section-header::-webkit-details-marker { 
      display: none; 
    }

    .chev { 
      width: 24px; 
      height: 24px; 
      display: inline-grid; 
      place-items: center; 
      border-radius: var(--radius-sm); 
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); 
      color: var(--bg);
      font-size: 12px;
      font-weight: 800;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--shadow-sm), var(--shadow-glow);
      position: relative;
      overflow: hidden;
    }

    .chev::before {
      content: '▶';
      transition: transform 0.3s ease;
    }
    
    .section[open] .chev::before { 
      transform: rotate(90deg); 
    }

    .section-title { 
      margin: 0; 
      font-size: 22px; 
      font-weight: 800;
      color: var(--text); 
      letter-spacing: -0.02em;
      flex: 1;
    }
    
    .section-content { 
      padding: 0 28px 28px; 
      animation: slideInUp 0.3s ease;
    }

    /* Enhanced info boxes */
    .student-info { 
      background: linear-gradient(135deg, rgba(0,255,136,.1), rgba(59,130,246,.08)); 
      border: 1px solid rgba(0,255,136,.3);
      border-radius: var(--radius-lg); 
      padding: 28px; 
      margin-bottom: 32px; 
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow), 0 0 25px rgba(0,255,136,0.1);
    }

    .student-info::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,255,255,0.03), transparent);
      animation: shine 3s infinite;
    }
    
    .student-info h3 { 
      margin: 0 0 20px; 
      color: var(--text); 
      font-size: 20px;
      font-weight: 800;
    }
    
    .info-grid { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
      gap: 20px; 
    }
    
    .info-item { 
      display: grid; 
      gap: 10px; 
    }
    
    .info-label { 
      font-weight: 800; 
      font-size: 11px; 
      text-transform: uppercase; 
      letter-spacing: .1em; 
      color: var(--brand); 
    }
    
    .info-value { 
      background: var(--card); 
      padding: 16px 20px; 
      border-radius: var(--radius-md); 
      border: 1px solid var(--border);
      font-weight: 700;
      color: var(--text);
      box-shadow: var(--shadow-sm);
      transition: all 0.2s ease;
    }

    .info-value:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow);
    }

    /* Enhanced instruction boxes */
    .instructions { 
      background: linear-gradient(135deg, rgba(59,130,246,.12), rgba(99,102,241,.08)); 
      border: 1px solid rgba(59,130,246,.3); 
      color: var(--text-secondary); 
      border-radius: var(--radius-lg); 
      padding: 22px 24px; 
      font-size: 14px; 
      margin-bottom: 24px;
      line-height: 1.7;
      position: relative;
      overflow: hidden;
    }

    .instructions::before {
      content: '💡';
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 20px;
      opacity: 0.3;
    }
    
    .instructions strong { 
      display: block; 
      margin-bottom: 10px; 
      color: var(--brand-2); 
      font-weight: 800;
      font-size: 16px;
    }

    /* Enhanced placeholder styling */
    .placeholder { 
      background: linear-gradient(135deg, rgba(245,158,11,.08), rgba(234,179,8,.06)); 
      border: 1px solid rgba(245,158,11,.25); 
      color: var(--text-secondary); 
      border-radius: var(--radius-lg); 
      padding: 24px; 
      line-height: 1.8;
      position: relative;
      transition: all 0.2s ease;
    }

    .placeholder:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-sm);
    }
    
    .placeholder h3, .placeholder h4 {
      color: var(--text);
      margin-top: 0;
      margin-bottom: 16px;
      font-weight: 700;
    }

    /* Enhanced completed work styling */
    .completed-work { 
      background: linear-gradient(135deg, rgba(34,197,94,.1), rgba(22,163,74,.08)); 
      border: 1px solid rgba(34,197,94,.3); 
      border-radius: var(--radius-lg); 
      padding: 22px 24px; 
      margin-bottom: 24px;
      position: relative;
      overflow: hidden;
    }

    .completed-work::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(180deg, var(--success), var(--brand));
    }
    
    .completed-header { 
      color: var(--success); 
      font-weight: 800; 
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    /* Enhanced scope cards */
    .scope-grid { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
      gap: 24px; 
      margin-top: 24px; 
    }
    
    .scope-card { 
      background: var(--card); 
      border-radius: var(--radius-lg); 
      padding: 24px; 
      border-left: 5px solid transparent; 
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .scope-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.02), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .scope-card:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: var(--shadow-lg);
    }

    .scope-card:hover::before {
      opacity: 1;
    }
    
    .scope-card h4 { 
      margin: 0 0 16px; 
      font-weight: 800;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
    }
    
    .scope-card.in-scope { 
      border-left-color: var(--success); 
    }
    
    .scope-card.roadmap { 
      border-left-color: var(--info); 
    }
    
    .scope-card.out-scope { 
      border-left-color: var(--danger); 
    }

    /* Enhanced table styling */
    .stakeholder-table { 
      width: 100%; 
      border-collapse: collapse; 
      overflow: hidden; 
      border-radius: var(--radius-lg); 
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border);
      background: var(--card);
    }
    
    .stakeholder-table thead th { 
      background: linear-gradient(90deg, rgba(0,255,136,.15), rgba(59,130,246,.12)); 
      color: var(--text); 
      padding: 18px 16px; 
      text-align: left; 
      font-size: 13px; 
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: .08em;
      border-bottom: 2px solid var(--border-strong);
      position: relative;
    }

    .stakeholder-table thead th::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      opacity: 0.5;
    }
    
    .stakeholder-table td { 
      padding: 16px; 
      border-bottom: 1px solid var(--border); 
      font-size: 14px; 
      color: var(--text-secondary); 
      vertical-align: top;
      transition: all 0.2s ease;
    }
    
    .stakeholder-table tr:hover td { 
      background: linear-gradient(90deg, rgba(0,255,136,0.05), rgba(59,130,246,0.03)); 
      transform: scale(1.01);
    }
    
    .stakeholder-table tr:last-child td {
      border-bottom: none;
    }

    /* Grid placeholder improvements */
    .power-interest-grid { 
      margin: 24px 0; 
      text-align: center; 
    }
    
    .grid-placeholder { 
      background: linear-gradient(135deg, rgba(148,163,184,.1), rgba(100,116,139,.08)); 
      border: 2px dashed rgba(148,163,184,.4); 
      border-radius: var(--radius-lg); 
      padding: 50px 24px; 
      color: var(--muted); 
      font-style: italic; 
      line-height: 2;
      position: relative;
      transition: all 0.3s ease;
    }

    .grid-placeholder:hover {
      border-color: var(--brand);
      background: linear-gradient(135deg, rgba(0,255,136,.1), rgba(59,130,246,.08));
      transform: scale(1.02);
    }

    /* Image handling */
    img {
      max-width: 100%;
      height: auto;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border);
      transition: all 0.3s ease;
    }

    img:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-lg), 0 0 30px rgba(0,255,136,0.2);
    }

    /* Progress bar */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      z-index: 1000;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px rgba(0,255,136,0.5);
    }

    /* Enhanced floating actions */
    .page-actions { 
      position: fixed; 
      bottom: 30px; 
      right: 30px;
      z-index: 90; 
      display: flex; 
      flex-direction: column;
      gap: 12px;
    }
    
    .action-bar { 
      display: flex; 
      gap: 12px; 
      background: rgba(15,20,25,.95); 
      border: 1px solid var(--border-strong); 
      padding: 16px 20px; 
      border-radius: var(--radius-lg); 
      box-shadow: var(--shadow-lg), 0 0 30px rgba(0,255,136,0.1); 
      backdrop-filter: blur(16px); 
      animation: slideInUp 1s ease 1.2s both;
    }

    .floating-btn {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border: none;
      color: var(--bg);
      font-size: 20px;
      cursor: pointer;
      box-shadow: var(--shadow-lg), var(--shadow-glow);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pulse 2s infinite;
    }

    .floating-btn:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: var(--shadow-lg), 0 0 40px rgba(0,255,136,0.4);
    }

    /* Loading spinner */
    .loading-spinner {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      border: 4px solid rgba(0,255,136,0.2);
      border-top: 4px solid var(--brand);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      z-index: 1000;
    }

    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }

    /* Utility classes */
    .stack { 
      display: flex; 
      gap: 16px; 
      align-items: center; 
      flex-wrap: wrap; 
    }
    
    .sr { 
      position: absolute; 
      width: 1px; 
      height: 1px; 
      overflow: hidden; 
      clip: rect(0 0 0 0); 
      white-space: nowrap; 
    }

    .fade-in {
      animation: slideInUp 0.6s ease both;
    }

    .stagger-1 { animation-delay: 0.1s; }
    .stagger-2 { animation-delay: 0.2s; }
    .stagger-3 { animation-delay: 0.3s; }
    .stagger-4 { animation-delay: 0.4s; }
    .stagger-5 { animation-delay: 0.5s; }

    /* Responsive improvements */
    @media (max-width: 1024px) {
      .wrap { 
        grid-template-columns: 1fr; 
        gap: 24px;
      }
      .side { 
        position: relative; 
        top: 0; 
        order: -1;
      }
      .header {
        padding: 60px 32px;
      }
      .content {
        padding: 32px 24px 48px;
      }
      .page-actions {
        bottom: 20px;
        right: 20px;
      }
    }

    @media (max-width: 640px) {
      .wrap {
        padding: 0 16px 60px;
        margin: 16px auto;
      }
      .topbar .inner {
        padding: 16px;
      }
      .scope-grid {
        grid-template-columns: 1fr;
      }
      .info-grid {
        grid-template-columns: 1fr;
      }
      .header {
        padding: 40px 20px;
      }
      .content {
        padding: 24px 16px 32px;
      }
      .section-header {
        padding: 20px 20px;
      }
      .section-content {
        padding: 0 20px 20px;
      }
      .action-bar {
        flex-direction: column;
        padding: 12px;
      }
    }

    /* Print styles */
    @media print {
      .topbar, .side, .page-actions, .bg-particles, .progress-bar {
        display: none;
      }
      .wrap {
        grid-template-columns: 1fr;
        max-width: none;
        margin: 0;
        padding: 0;
      }
      .section {
        break-inside: avoid;
      }
      .section summary {
        display: none;
      }
      .section .section-content {
        padding: 0;
      }
    }

    /* Dark mode specific enhancements */
    @media (prefers-color-scheme: dark) {
      .particle {
        background: var(--brand);
        box-shadow: 0 0 10px rgba(0,255,136,0.3);
      }
    }
  </style>
</head>
<body>
  <!-- Progress bar -->
  <div class="progress-bar" id="progressBar"></div>
  
  <!-- Animated background particles -->
  <div class="bg-particles" id="particles"></div>
  
  <!-- Loading spinner -->
  <div class="loading-spinner" id="loadingSpinner" style="display: none;"></div>

  <div class="topbar">
    <div class="inner">
      <div class="logo" aria-label="Upskilling in Cybersecurity">
        <div class="badge">🔒</div>
        <div>Upskilling in Cybersecurity</div>
      </div>
      <div class="top-actions">
        <button class="btn" id="expandAll" title="Expand all sections">✨ Expand all</button>
        <button class="btn" id="collapseAll" title="Collapse all sections">📁 Collapse all</button>
        <button class="btn" id="themeToggle" title="Toggle theme">🌙 Toggle theme</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <!-- Enhanced Sidebar TOC -->
    <aside class="side" aria-label="On this page">
      <div class="toc-head">📋 Table of Contents</div>
      <ul class="toc" id="toc"></ul>
    </aside>

    <!-- Main card -->
    <main class="container" id="main">
      <header class="header">
        <h1>🔐 Upskilling in cybersecurity</h1>
        <p>✨ Project Charter - Managing IT Projects Course</p>
      </header>

      <div class="content">
        <!-- Student Information -->
        <section class="student-info fade-in stagger-1" id="student-info">
          <h3>👨‍🎓 Student Information</h3>
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label">Student Name:</div>
              <div class="info-value">Jeremy Yan</div>
            </div>
            <div class="info-item">
              <div class="info-label">Course:</div>
              <div class="info-value">Managing IT Projects</div>
            </div>
            <div class="info-item">
              <div class="info-label">Semester:</div>
              <div class="info-value">Fall 2025</div>
            </div>
          </div>
        </section>

        <!-- All sections with improved styling -->
        <details class="section fade-in stagger-2" id="sec-1" open>
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">📋 1. Project Title & Description</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>🎯 Instructions:</strong>
              Replace the placeholder below with your specific project information. Include a clear project name and 2-3 sentences describing what you will deliver.
            </div>
            <div class="placeholder">
              <h3>🚀 Project Title: Upskilling into Cybersecurity</h3>
              <p>This project aims to broaden my view of the Cybersecurity field. By improving my knowledge base with key trends in the field and industry knowledge, I can improve my chances of breaking into the field.</p>
            </div>
          </div>
        </details>

        <details class="section fade-in stagger-3" id="sec-2">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">🎯 2. Vision, Mission & Strategy Alignment</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>💫 Instructions:</strong>
              Explain how this project aligns with your personal mission, vision, and strategic goals. Reference your previous mission/vision/strategy work.
            </div>
            <div class="placeholder">
              <h4>🎯 Personal Mission Connection:</h4>
              <p>This project supports my personal mission because I know that cybersecurity is a field that I'm interested in entering. There will always be demand for cybersecurity professionals.</p>

              <h4>🔮 Vision Alignment:</h4>
              <p>I've always wanted a career in cybersecurity. I know that there is a major demand for cybersecurity-it is a broad field that almost every organization has a use for. This field is also in demand with the government sector, a sector I want to work for in the future.</p>

              <h4>📈 Strategic Goal Support:</h4>
              <p>This project will help me in achieving my goal of entering the cybersecurity field. This field is also a good path into entering the government sector, a strategic goal of mine.</p>
            </div>
          </div>
        </details>

        <details class="section fade-in stagger-4" id="sec-3">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">💼 3. Business Case & Justification</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>💎 Instructions:</strong>
              Describe how this project will add value to you either professionally or personally. What benefits will you gain?
            </div>
            <div class="placeholder">
              <h4>🏢 Professional Value:</h4>
              <p>There are several benefits to this project. I will gain skills that are sought after in the cybersecurity field, improve my network, and improve my job prospects.</p>

              <h4>❤️ Personal Value:</h4>
              <p>I think the main personal value that I gain from this project is the improvements to my knowledge base. This will help me excel in my job duties and improve my confidence in the workplace.</p>

              <h4>🎓 Learning Outcomes:</h4>
              <p>I will hopefully learn more about the field as a whole, expectations and qualities that would help one in the field. This knowledge could be really helpful in creating a career path for myself.</p>
            </div>
          </div>
        </details>

        <details class="section fade-in stagger-5" id="sec-4">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">📏 4. High-Level Scope</h2></summary>
          <div class="section-content">
            <div class="completed-work">
              <div class="completed-header">✅ Use Your Previous Scope Assignment</div>
              <p>Copy and paste your scope document content from your previous assignment into the placeholders below.</p>
            </div>

            <div class="scope-grid">
              <div class="scope-card in-scope">
                <h4>✅ In Scope for Semester Project</h4>
                <div class="placeholder">
                  <ul>
                    <li>🔍 Revised and peer reviewed Cybersecurity focused resume.</li>
                    <li>💪 Research into common jobs and key skills for the industry.</li>
                    <li>🏆 Research into entry level certifications for the field.</li>
                    <li>📊 Acquisition of an entry level cybersecurity certification.</li>
                    <li>🎭 Networking with individuals in the industry.</li>
                  </ul>
                </div>
              </div>

              <div class="scope-card roadmap">
                <h4>🗺️ Roadmap Items (≤6 Months)</h4>
                <div class="placeholder">
                  <ul>
                    <li>🎯 Learning more about key theories in the field</li>
                    <li>💼 Gaining more work experience</li>
                    <li>🤝 Networking with cybersecurity professionals</li>
                    <li>🎪 Attending cybersecurity events and webinars</li>
                  </ul>
                </div>
              </div>

              <div class="scope-card out-scope">
                <h4>❌ Out of Scope</h4>
                <div class="placeholder">
                  <ul>
                    <li>🚫 Getting a cybersecurity job</li>
                    <li>🚫 Getting an expert level cybersecurity certification</li>
                    <li>🚫 Taking a cybersecurity consultant role</li>
                    <li>🚫 Taking a hacker/penetration tester type job</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </details>

        <details class="section fade-in" id="sec-5">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">👥 5. Stakeholder Register</h2></summary>
          <div class="section-content">
            <div class="completed-work">
              <div class="completed-header">✅ Use Your Previous Stakeholder Assignment</div>
              <p>Copy and paste your stakeholder information from your previous assignment. Include both the table and your power-interest grid.</p>
            </div>

            <table class="stakeholder-table">
              <thead>
                <tr>
                  <th>👤 Stakeholder</th>
                  <th>🏷️ Category</th>
                  <th>💼 Role/Interest</th>
                  <th>⚡ Power</th>
                  <th>❤️ Interest</th>
                  <th>🎯 Engagement Strategy</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                <tr>
                   <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                 <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                 <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                 <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                 <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                 <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                 <tr>
                  <td class="placeholder">[Stakeholder Name 1]</td>
                  <td class="placeholder">[Internal/External]</td>
                  <td class="placeholder">[Their role and interest]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[High/Medium/Low]</td>
                  <td class="placeholder">[Management strategy]</td>
                </tr>
                <tr>
                  <td colspan="6" class="instructions">
                    <strong>📝 Add more rows as needed for all your stakeholders (8-12 total)</strong>
                    You can copy this table row structure and paste it multiple times, then fill in each stakeholder's information.
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="power-interest-grid">
              <h4>📊 Power-Interest Grid Visualization</h4>
              <div class="grid-placeholder">
                🎨 [INSERT YOUR POWER-INTEREST GRID HERE]
                <br /><br />
                You can:
                <br />• 🖼️ Draw it and insert as an image
                <br />• 📱 Create it in PowerPoint/Google Slides and screenshot it
                <br />• 🤖 Ask ChatGPT to help you create an HTML version
                <br />• 🛠️ Use any tool that shows your stakeholders positioned in the four quadrants
              </div>
            </div>
          </div>
        </details>

        <details class="section fade-in" id="sec-6">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">📝 Additional Charter Components</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>🚧 Note for Future Updates:</strong>
              This charter will be expanded throughout the semester as we cover additional project management components including:
              <ul>
                <li>🔄 Project Methodology Selection</li>
                <li>📦 Deliverables & Definition of Done</li>
                <li>⏰ High-Level Timeline & Milestones</li>
                <li>🚀 Execution Plan Overview</li>
                <li>⚠️ Risk Register</li>
                <li>✅ Acceptance Criteria</li>
                <li>👨‍💼 Project Manager Authority & Approvals</li>
              </ul>
              Keep this HTML file - you'll be adding to it as the semester progresses!
            </div>
          </div>
        </details>

        <details class="section fade-in" id="sec-7">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">🎯 6. Deliverables, Time Estimates & Definition of Done</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>📋 Instructions:</strong>
              Explain this project's deliverables, time estimates, and definition of done.
            </div>
            <div class="placeholder">
              <h4>📄 Deliverable 1:</h4>
              <p>Cybersecurity specialized resume. Duration: 9 days. Definition of done: A better understanding of in demand skills in the field and how it compares to my skillset, and a peer approved cybersecurity focused resume. (To be done first)</p>

              <h4>📋 Deliverable 2:</h4>
              <p>Learn about key industry theories and best practices, leading to the aquisition of a cybersecurity certification. Duration: 14 days. Definition of done: Pass the exam, become certified for that specific certification. (To be done second)</p>

              <h4>🏆 Deliverable 3:</h4>
              <p>Reworking the network. Duration: 14 days. Definition of done: Folks in the network are aware of my interest in the field and my relevant skills.(To be done third)</p>

              <h4>💼 Deliverable 4:</h4>
              <p>Applying to 5-10 cybersecurity positions or internships. Duration: 9 days. Definition of done: Applications are submitted and pending.(To be done last)</p>

            </div>
          </div>
        </details>

        <details class="section fade-in" id="sec-8">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">💰 7. Budget Estimation</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>💳 Instructions:</strong>
              Estimate the costs associated with this project. Include things like certifications, events, tools, or training materials.
            </div>
            <div class="placeholder">
              <table class="stakeholder-table">
                <thead>
                  <tr>
                    <th>📦 Item</th>
                    <th>💵 Estimated Cost</th>
                    <th>📝 Notes</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>⚙️ Labor and equipment costs</td>
                    <td>$9,350</td>
                    <td>Exam and preparation materials</td>
                  </tr>
                  <tr>
                    <td>🎓 Online cybersecurity course materials, certification fees, etc</td>
                    <td>$1,000</td>
                    <td>All material costs to acquire a cybersecurity certification</td>
                  </tr>
                  <tr>
                    <td>🛡️ Contingency reserve</td>
                    <td>$2,270</td>
                    <td>For unforeseen/unexpected events</td>
                  </tr>
                  <tr>
                    <td><strong>💎 Total Estimated Budget</strong></td>
                    <td><strong>$12,620</strong></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

        <details class="section fade-in" id="sec-9">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">🎯 8. Project Methodology</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>⚙️ Instructions:</strong>
              Explain this project's project methodology and project methodology diagram.
            </div>
            <div class="placeholder">
              <h4>🔄 Project Methodology Explanation:</h4>
              <p>My requirements fit the hybrid structure. I have a relatively clear plan on how I want to do the project but leeway would help me. I will be doing milestones, so checkpoints throughout the semester. 
                Predictive will not work; I might find a different approach that I want to do so that doesn't meet my goals. Incremental hybrid works, I plan for this method best. Iteration hybrid doesn't really work, 
                as I don't foresee the need to submit iterations. Agile gives too much leeway, and I don't anticipate there being a lot of feedback for pivots. Therefore, I choose Hybrid Incremental as my approach.</p>

              <h4>📊 Project Methodology Diagram:</h4>
              <img src="Images/Project method diagram.png" alt="Project Methodology Diagram">
            </div>
          </div>
        </details>

        <details class="section fade-in" id="sec-10">
          <summary class="section-header"><span class="chev"></span><h2 class="section-title">🔧 9. Project Tool</h2></summary>
          <div class="section-content">
            <div class="instructions">
              <strong>🛠️ Instructions:</strong>
              Explain your selected project tool and associated screenshots.
            </div>
            <div class="placeholder">
              <h4>⚡ Project Tool Explanation:</h4>
              <p>My project will use the Hybrid-Incremental approach. My deliverables are able to be submitted independently of one another, allowing for this approach. With this approach in mind, I will test Microsoft Project, Jira, and Monday.com to see which one fits me. 
                After testing the three applications, I went with Monday.com. This software is free, and allows me to list out the tasks and subtasks in a way that allows for easy visualization. I'm able to set due dates and timelines, allowing me to stay on track throughout the duration of this project. 
                I've also used Monday.com in the past, and the familiarity is a boon for this project.</p>

              <h4>📸 Project Tool Screenshot:</h4>
              <img src="Images/Projectplandiagram.jpg" alt="Project Tool Diagram">
            </div>
          </div>
        </details>

      </div>
    </main>
  </div>

  <!-- Enhanced floating actions -->
  <div class="page-actions">
    <button class="floating-btn" id="backToTop" title="Back to top">↑</button>
    <div class="action-bar">
      <button class="btn" id="printBtn" title="Print or save as PDF">🖨️ Print</button>
      <button class="btn" id="shareBtn" title="Share this document">🔗 Share</button>
    </div>
  </div>

  <script>
    // Create animated particles
    function createParticles() {
      const container = document.getElementById('particles');
      const particleCount = 20;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        const size = Math.random() * 4 + 2;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 8 + 's';
        particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
        
        container.appendChild(particle);
      }
    }

    // Progress bar functionality
    function updateProgressBar() {
      const progressBar = document.getElementById('progressBar');
      const scrollTop = window.pageYOffset;
      const docHeight = document.body.offsetHeight;
      const winHeight = window.innerHeight;
      const scrollPercent = scrollTop / (docHeight - winHeight);
      const scrollPercentRounded = Math.round(scrollPercent * 100);
      
      progressBar.style.width = scrollPercentRounded + '%';
    }

    // Enhanced theme toggle with local storage
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('light');
      const isLight = document.documentElement.classList.contains('light');
      themeToggle.innerHTML = isLight ? '☀️ Light mode' : '🌙 Dark mode';
      localStorage.setItem('theme', isLight ? 'light' : 'dark');
    });

    // Restore theme preference
    (function(){
      try {
        const saved = localStorage.getItem('theme');
        if(saved === 'light') {
          document.documentElement.classList.add('light');
          themeToggle.innerHTML = '☀️ Light mode';
        } else {
          themeToggle.innerHTML = '🌙 Dark mode';
        }
      } catch(e) {
        themeToggle.innerHTML = '🌙 Dark mode';
      }
    })();

    // Enhanced expand/collapse functionality
    const allDetails = () => Array.from(document.querySelectorAll('details.section'));
    const expandBtn = document.getElementById('expandAll');
    const collapseBtn = document.getElementById('collapseAll');
    
    expandBtn.addEventListener('click', () => {
      const details = allDetails();
      details.forEach((d, i) => {
        setTimeout(() => {
          d.open = true;
        }, i * 100);
      });
      expandBtn.innerHTML = '✨ All expanded';
      setTimeout(() => expandBtn.innerHTML = '✨ Expand all', 2000);
    });
    
    collapseBtn.addEventListener('click', () => {
      const details = allDetails();
      details.forEach((d, i) => {
        setTimeout(() => {
          d.open = false;
        }, i * 50);
      });
      collapseBtn.innerHTML = '📁 All collapsed';
      setTimeout(() => collapseBtn.innerHTML = '📁 Collapse all', 2000);
    });

    // Back to top functionality
    const backToTopBtn = document.getElementById('backToTop');
    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Enhanced print functionality
    document.getElementById('printBtn').addEventListener('click', () => {
      const loadingSpinner = document.getElementById('loadingSpinner');
      loadingSpinner.style.display = 'block';
      
      const wasOpen = allDetails().map(d => d.open);
      allDetails().forEach(d => d.open = true);
      
      setTimeout(() => {
        loadingSpinner.style.display = 'none';
        window.print();
        setTimeout(() => {
          allDetails().forEach((d, i) => d.open = wasOpen[i]);
        }, 100);
      }, 500);
    });

    // Share functionality
    document.getElementById('shareBtn').addEventListener('click', async () => {
      if (navigator.share) {
        try {
          await navigator.share({
            title: 'Cybersecurity Upskilling Project Charter',
            text: 'Check out this cybersecurity project charter!',
            url: window.location.href
          });
        } catch (err) {
          console.log('Error sharing:', err);
        }
      } else {
        // Fallback to copying URL to clipboard
        navigator.clipboard.writeText(window.location.href).then(() => {
          const btn = document.getElementById('shareBtn');
          btn.innerHTML = '✅ Copied!';
          setTimeout(() => btn.innerHTML = '🔗 Share', 2000);
        });
      }
    });

    // Generate enhanced Table of Contents
    const toc = document.getElementById('toc');
    const headings = Array.from(document.querySelectorAll('details.section .section-title'));
    
    headings.forEach((h, i) => {
      const parentDetails = h.closest('details.section');
      const id = parentDetails.id || `sec-${i+1}`;
      parentDetails.id = id;
      
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = `#${id}`;
      a.textContent = h.textContent.trim();
      
      a.addEventListener('click', (e) => {
        setTimeout(() => {
          parentDetails.open = true;
        }, 100);
      });
      
      li.appendChild(a);
      toc.appendChild(li);
    });

    // Enhanced active link highlight with intersection observer
    const links = Array.from(toc.querySelectorAll('a'));
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const idx = headings.findIndex(h => h.closest('details.section').id === entry.target.id);
        if (idx > -1) {
          const link = links[idx];
          if (entry.isIntersecting) {
            link.classList.add('active');
          } else {
            link.classList.remove('active');
          }
        }
      });
    }, { 
      rootMargin: '-20% 0px -70% 0px', 
      threshold: [0, 0.1, 0.5, 1] 
    });

    document.querySelectorAll('details.section').forEach(sec => observer.observe(sec));

    // Enhanced keyboard accessibility
    document.querySelectorAll('summary.section-header').forEach(sum => {
      sum.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { 
          e.preventDefault(); 
          sum.parentElement.open = !sum.parentElement.open; 
        }
      });
    });

    // Smooth scroll behavior for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Show/hide back to top button based on scroll
    window.addEventListener('scroll', () => {
      updateProgressBar();
      
      if (window.pageYOffset > 300) {
        backToTopBtn.style.opacity = '1';
        backToTopBtn.style.transform = 'scale(1)';
      } else {
        backToTopBtn.style.opacity = '0';
        backToTopBtn.style.transform = 'scale(0.8)';
      }
    });

    // Staggered animation for sections
    const sections = document.querySelectorAll('.section');
    const sectionObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });

    sections.forEach((section, i) => {
      section.style.opacity = '0';
      section.style.transform = 'translateY(30px)';
      section.style.transition = `all 0.6s ease ${i * 0.1}s`;
      sectionObserver.observe(section);
    });

    // Enhanced loading animation
    document.addEventListener('DOMContentLoaded', () => {
      document.body.style.opacity = '0';
      document.body.style.transform = 'translateY(20px)';
      document.body.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
      
      // Create particles after DOM is loaded
      createParticles();
      
      setTimeout(() => {
        document.body.style.opacity = '1';
        document.body.style.transform = 'translateY(0)';
      }, 200);
    });

    // Add parallax effect to header
    window.addEventListener('scroll', () => {
      const scrolled = window.pageYOffset;
      const header = document.querySelector('.header');
      if (header) {
        header.style.transform = `translateY(${scrolled * 0.5}px)`;
      }
    });

    // Enhanced section opening animation
    document.querySelectorAll('details.section').forEach(details => {
      details.addEventListener('toggle', () => {
        if (details.open) {
          const content = details.querySelector('.section-content');
          content.style.opacity = '0';
          content.style.transform = 'translateY(10px)';
          
          setTimeout(() => {
            content.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            content.style.opacity = '1';
            content.style.transform = 'translateY(0)';
          }, 50);
        }
      });
    });

    // Add typing effect to main title (optional enhancement)
    function typeWriter(element, text, speed = 100) {
      let i = 0;
      element.innerHTML = '';
      
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed);
        }
      }
      
      type();
    }

    // Initialize typing effect for header (uncomment if desired)
    // setTimeout(() => {
    //   const headerTitle = document.querySelector('.header h1');
    //   if (headerTitle) {
    //     const originalText = headerTitle.textContent;
    //     typeWriter(headerTitle, originalText, 80);
    //   }
    // }, 1000);

    // Add easter egg - konami code
    let konamiCode = [];
    const konamiSequence = [
      'ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 
      'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 
      'KeyB', 'KeyA'
    ];

    document.addEventListener('keydown', (e) => {
      konamiCode.push(e.code);
      
      if (konamiCode.length > konamiSequence.length) {
        konamiCode.shift();
      }
      
      if (konamiCode.join('') === konamiSequence.join('')) {
        // Easter egg activated!
        document.body.style.filter = 'hue-rotate(180deg)';
        setTimeout(() => {
          document.body.style.filter = 'none';
        }, 3000);
        
        // Show success message
        const message = document.createElement('div');
        message.textContent = '🎉 Konami Code Activated! Colors inverted for 3 seconds!';
        message.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: var(--brand);
          color: var(--bg);
          padding: 20px 30px;
          border-radius: var(--radius-lg);
          font-weight: bold;
          z-index: 10000;
          box-shadow: var(--shadow-lg);
        `;
        document.body.appendChild(message);
        
        setTimeout(() => {
          document.body.removeChild(message);
        }, 3000);
        
        konamiCode = [];
      }
    });

    // Add mouse trail effect (subtle)
    let mouseTrail = [];
    document.addEventListener('mousemove', (e) => {
      mouseTrail.push({ x: e.clientX, y: e.clientY, time: Date.now() });
      
      // Clean old trail points
      mouseTrail = mouseTrail.filter(point => Date.now() - point.time < 500);
      
      // Create trail effect (very subtle)
      if (mouseTrail.length > 5) {
        const trailElement = document.createElement('div');
        trailElement.style.cssText = `
          position: fixed;
          width: 4px;
          height: 4px;
          background: var(--brand);
          border-radius: 50%;
          pointer-events: none;
          z-index: 1;
          opacity: 0.3;
          left: ${e.clientX - 2}px;
          top: ${e.clientY - 2}px;
          animation: fadeTrail 0.5s ease-out forwards;
        `;
        
        document.body.appendChild(trailElement);
        
        setTimeout(() => {
          if (document.body.contains(trailElement)) {
            document.body.removeChild(trailElement);
          }
        }, 500);
      }
    });

    // CSS for trail fade animation
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fadeTrail {
        0% { opacity: 0.3; transform: scale(1); }
        100% { opacity: 0; transform: scale(0.5); }
      }
    `;
    document.head.appendChild(style);

  </script>
</body>
</html>
